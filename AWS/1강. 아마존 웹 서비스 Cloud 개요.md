# 1강. 아마존 웹 서비스 Cloud 개요

> - 클라우드 컴퓨팅(Cloud Computing)
> - 아마존 웹 서비스(Amazon Web services)
> - AWS 주요 서비스
> - AWS 보안
> - AWS 아키텍처



## 1. 클라우드 컴퓨팅

### 1.1 클라우드 서비스

- 인터넷 기반 컴퓨팅의 일종으로 정보를 자신의 컴퓨터가 아닌 인터넷에 연결된 다른 컴퓨터로 처리하는 기술
- 공유 컴퓨터 처리 자원과 데이터를 컴퓨터와 다른 장치들에 요청시 제공해줌
- 구성 가능한 컴퓨팅 자원(예: 컴퓨터 네트워크, 서버, 스토리지, 애플리케이션, 서비스)에 대해 어디서나 접근이 가능한, 주문형 접근을 가능케 하는 모델이며, 최소한의 관리 노력으로 빠르게 예비 및 릴리스를 가능케 함
- 클라우드 컴퓨팅과 스토리지 솔루션들은 사용자와 기업들에게 개인 소유나 타사 데이터 센터의 데이터를 저장, 가공하는 다양한 기능을 제공하며 도시를 거쳐 전 세계로까지 위치해 있을 수 있음
- 클라우드 컴퓨팅은 전기망을 통한 전력망과 비슷한 일관성 및 규모의 경제를 달성하기위해 자원의 공유에 의존함





# 4강. AWS 서버 이해하기

> - 서버 아키텍처
> - AWS 서버 서비스
> - Amazon EC2(Elastic Compute Cloud)



## AWS 서버 서비스

- **Availability Aone (AZ)**
  - AWS의 데이터 센터는 가용 영역(AZ) 내에 편성
  - 각 가용 영역은 하나 이상의 데이터 센터로 구성
  - **하나의 데이터 센터가 2개의 가용 영역에 포함될 수는 없음**
  - 각 가용 영역은 독립된 장애 영역으로 설계
  - 가용 영역은 일반적인 대도시 리전 내에서 물리적으로 격리되어 있으며, 별도의 무정전 전원 공급 장치와 현장 백업 발전 시설 외에도 독립적인 유틸리티의 서로 다른 그리드를 통해 전력을 공급받음으로써 단일 장애 지점이 더욱 줄어들게 됨
  - 사용자는 시스템이 상주할 가용 영역을 선택 필요
  - 시스템은 여러 가용 영역에 걸쳐 확장 가능하며 재해가 발생하는 경우, 임시 또는 장기 가용 영역 장애를 극복할 수 있도록 시스템을 설계 필요
  - 여러 개의 가용 영역에 애플리케이션을 분산하면 자연 재해나 시스템 장애 등 대부분의 장애 상황에서도 복원력을 유지 가능

- **Region (리전)**
  - 가용 영역은 다시 리전으로 그룹화
  - 각 AWS 리전은 2개 이상의 가용 영역을 포함
  - 특정 리전에 데이터를 저장하는 경우, 해당 리전 내에서만 데이터가 복제됨
  - AWS는 사용자가 데이터를 저장한 리전 외부로 데이터를 이동하지 않음
    - 비즈니스에서 이를 필요로 하는 경우, 여러 리전에 걸쳐 데이터를 복제하는 작업은 사용자의 책임
  - AWS에서는 각 리전이 위치한 국가 및 지역에 대한 정보를 제공하며, 규정 준수와 네트워크 지연 시간 요구 사항에 따라 데이터를 저장할 리전을 선택하는 것은 사용자의 책임임
  - 리전 간 모든 통신은 퍼블릭 인터넷 인프라를 통해 이루어지므로, 민감한 데이터를 보호하기 위해 암호화 방법을 사용 필요
  - 사용 가능한 AWS 제품과 서비스는 리전에 따라 달라지므로, 사용자는 해당 리전에서 사용한 서비스들을 잘 확인 필요

- **Virtual Private Cloud (VPC)**

  - Virtual Private Cloud, 줄여서 VPC는 사용자의 AWS 계정 전용 가상 네트워크

  - VPC는 AWS 클라우드에서 다른 가상 네트워크와 논리적으로 분리

  - Amazon EC2 인스턴스와 같은 AWS 리소스를 VPC에서 실행할 수 있는 클라우드의 네트워크 환경이며 VPC는 다양한 리소스를 시작하는 장소이고, 사용자 환경 및 환경의 리소스 상호 격리에 대한 탁월한 제어 기능을 제공하도록 설계됨

  - 각 VPC는 리전 내에 존재하며 VPC 내에 있는 리소스는 해당 리전 외부에 존재할 수 없음

    BUT, 같은 리전 내 다른 가용 영역에 있는 리소스는 같은 VPC에 존재할 수 있음

  - 인터넷 게이트웨이, NAT 또는 방화벽 프록시를 사용하지 않고 VPC 엔드포인트를 통해 AWS 서비스에 비공개로 연결 가능

  - 사용 가능한 서비스에는 S3, DynamoDB, Kinesis Streams, Service Catalod, EC2 Systems Manager(SSM), Elastic Load Balabcind(ELB) API, Amazon Elastic Compute Cloud(EC2) API 및 SNS 가 포함

- **Subnet (서브넷)**

  - 서브넷은 VPC의 IP 주소 범위

  - 지정된 서브넷으로 AWS 리소스를 시작 가능

  - 인터넷에 연결되어야 하는 리소스에는 퍼블릭 서브넷을 사용하고, 인터넷에 연결되지 않는 리소스에는 프라이빗 서브넷을 사용

    - 예) Network Address Translation (NAT)을 사용하여 인터넷에서 주소로 직접 액세스하지 못하게 할 인스턴스에 대해서는 프라이빗 서브넷을 사용

      프라이빗 서브넷에 있는 인스턴스는 퍼블릭 서브넷의 NAT 게이트웨이를 통해 트래픽을 라우팅하여 프라이빗 IP 주소를 노출하지 않고 인터넷에 액세스 가능

- **Elastic Compute Cloud (EC2)**

  - Amazon Elastic Compute Cloud(Amazon EC2)는 AWS 클라우드에서 확장 가능한 컴퓨팅 제공
  - Amazon EC2를 사용하면 하드웨어에 선투자할 필요가 없어 더 빠르게 애플리케이션을 개발하고 배포 가능
  - EC2를 통해 원하는 만큼 가상 서버를 구축하고 보안 및 네트워크 구성과 스토리지 관리 가능
  - Amazon EC2는 요건이나 갑작스러운 접속 증가 등 변동사항에 따라 확장하거나 축소할 수 있어 트래픽 예측 필요성 감소
  - Amazon EC2는 다음의 기능을 제공
    1. 가상 컴퓨팅 환경 : 컴퓨팅 및 메모리 기능에 따라 목적에 맞는 인스턴스 생성
    2. Amazon Machine Image (AMI) : 서버에 필요한 운영체제와 여러 소프트웨어들이 적절히 구성된 상태로 제공되는 템플릿으로 인스턴스 생성 사능하며 인스턴스를 위한 CPU, 메모리, 스토리지, 네트워킹 용량의 여러 가지 구성을 제공
    3. 인스턴스 스토어 볼륨 : 임시 데이터를 저장하는 스토리지 볼륨으로 인스턴스 종료 시 삭제됨
    4. Amazon Elastic Block Store (Amazon EBS) : EBS 볼륨을 사용해 영구 스토리지 볼륨에 데이터를 저장가능
    5. Security Group(보안 그룹) 을 사용해 인스턴스에 연결할 수 있는 프로토콜, 포트, 소스 IP 범위를 지정하는 방화벽 기능이 제공
    6. Elastic IP (EIP) : 동적 클라우드 컴퓨팅을 위한 고정 IPv4 주소
    7. 태그 : 사용자가 생성하여 Amazon EC2 리소스에 할당할 수 있는 메타데이터

- **Relational Database Service (RDS)**

  - 클라우드에서 관계형 데이터베이스를 더욱 쉽게 설정, 운영 및 확장할 수 있도록 지원하는 웹 서비스이며 이 서비스는 산업 표준 관게형 데이터베이스를 위한 경제적이고 크기 조절이 가능한 용량을 제공하고 공통 데이터베이스 관리 작업을 관리
  - Amazon RDS를 사용하면 CPU, 메모리, 스토리지 및 IOPS(Input/Output Operation Per Second) 가 따로 분할되므로 독립적으로 확장 가능
  - CPU가 더 많이 필요하거나 IOPS가 더 적게 필요하거나 스토리지가 더 많이 필요할 경우 쉽게 할당 가능
  - 백업, 소프트웨어 패치, 자동 장애 감지 및 복구를 관리하며, 필요할 때 자동 백업을 수행하거나 고유한 백업 스냅샷을 수동으로 생성 가능하며 이러한 백업을 사용하여 데이터베이스를 복원 가능
  - MySQL, MariaDB, PostgreSQL, Oracle, Microsoft SQL Server, 그리고 새로운 MySQL 호환 Amazon Aurora DB 엔진 등 익숙한 데이터베이스 제품을 사용 가능하며 데이터베이스 패키지의 보안 외에도 AWS Identity and Access Management(IAM)을 사용해 사용자 및 권한을 정의하는 방법으로 RDS 데이터베이스에 엑세스할 수 있는 사용자를 제어 가능

- **Elastic Load Balancing (ELB)**

  - 들어오는 애플리케이션 트래픽을 Amazon EC2 인스턴스, 컨테이너, IP 주소와 같은 여러 대상에 자동으로 분산
  - 단일 AZ 또는 여러 AZ에서 다양한 애플리케이션 부하를 처리하므로 내결함성과 가용성이 향상됨
  - ELB에는 세 가지 로드 밸런서가 존재하는데 모두 애플리케이션의 내결함성에 필요한 고가용성, 자동 확장/축소, 강력한 보안 기능 제공
    1. Application Load Balancer
       - 애플리케이션 레이어7(layer 7)에서 작동하는 Application Load Balancer는 요청 콘텐츠를 기반으로 VPC 내의 대상으로 트래픽 라우팅
       - Layer 7 HTTP/HTTPS 애플리케이션을 로드 밸런싱하고 SSL/TLS 암호 및 프로토콜이 사용되도록 하여 애플리케이션의 보안을 개선
    2. Network Load Balancer
       - Layer 4에서 작동하는 Network Load balancer는 IP 프로토콜 데이터를 기반으로 VPC 내의 대상으로 연결 라우팅
       - TCP 트래픽의 로드 밸런싱에 적합하며 AZ당 하나의 정적 IP 주소를 사용하면서 갑작스럽고 변동이 심한 트래픽 패턴 처리
    3. Classic Load Balancer
       - 여러 Amazon EC2 인스턴스에서 기본적인 로드밸런싱을 제공하며, Layer 4 및 Layer 7 에서 작동
       - Classic Load Balancer는 Application Load Balancer 보다 이전에 나온 서비스이며 EC2 Clssic 네트워크 내에 구축된 애플리케이션용이지만, VPC에서도 사용 가능하고 비교적 설정이 간단하므로 해당 매뉴얼에서는 Classic Load Balancer를 사용

- **Amazon Elastic Compute Cloud(EC2)**

  `안전하고 크기 조정이 가능한 컴퓨팅 파워를 클라우드에서 제공, 선불금 없이 필요할 때 애플리케이션 시작`

  - 안전하고 크기 조정이 가능한 컴퓨팅 파워를 클라우드에서 제공하는 웹 서비스이며 개발자가 더 쉽게 웹 규모의 클라우드 컴퓨팅 작업을 할 수 있도록 설계됨
  - Amazon EC2의 간단한 웹 서비스 인터페이스를 통해 간편하게 필요한 용량을 얻고 구성 가능
  - 컴퓨팅 리소르에 대한 포괄적인 제어권을 제공하며, Amazon의 검증된 컴퓨팅 인프라에서 실행 가능
  - 새로운 서버 인스턴스를 획득하고 부팅하는 데 필요한 시간을 단 몇분으로 단축하므로 컴퓨팅 요구 사항의 변화에 따라 신속하게 용량을 확장하거나 축소 가능하며 실제 사용한 만큼만 요금을 지불하면 되므로, 컴퓨팅 비용이 절약됨
  - 개발자가 장애에 대한 복원력이 뛰어나고 일반적인 오류 상황에 영향을 받지 않는 애플리케이션을 구축할 수 있도록 도구 제공
  - Amazon EC2 의 기능
    1. 인스턴스 : 가상 컴퓨팅 환경
    2. Amazon 머신 이미지 (AMI) : 서버에 필요한 운영체제와 여러 소프트웨어들이 적절히 구성된 상태로 제공되는 템플릿으로 인스턴스 생성 가능
    3. 인스턴스 유형 : 인스턴스를 위한 CPU, 메모리, 스토리지, 네트워킹 용량의 여러 가지 구성 제공
    4. 인스턴스 스토어 볼륨 : 임시 데이터를 저장하는 스토리지 볼륨으로 인스턴스 종료 시 삭제됨
    5. Amazon Elastic Block Store(Amazon EBS), 즉 Amazon EBS 볼륨을 사용해 영구 스토리지 볼륨에 데이터 저장
    6. 인스턴스와 Amazon EBS 볼륨 등의 리소스를 다른 물리적 장소에서 액세스할 수 있는 리전 및 가용 영역
    7. 보안 그룹을 사용해 인스턴스에 연결할 수 있는 프로토콜, 포트, 소스 IP 범위를 지정하는 방화벽 기능
    8. 탄력적 IP 주소 (EIP) : 동적 클라우드 컴퓨팅을 위한 고정 IPv4 주소
    9. 태그 : 사용자가 생성하여 Amazon EC2 리소스에 할당할 수 있는 메타데이터
    10. AWS 클라우드에서는 논리적으로 격리되어 있지만, 원할 때 마다 고객의 네트워크와 간편히 연결할 수 있는 가상 네트워크, Virtual Private Clouds(VPC)

- **스토리지**
  - Amazon EBS
    - 내구성이 있는 블록 수준 스토리지 볼륨을 제공하여 실행 중인 인스턴스에 연결하는 것이 가능
    - 세분화된 업데이트를 자주 수행하는 데이터의 경우 기본 스토리지 디바이스로 Amazon EBS를 사용 가능
    - 인스턴스에서 데이터베이스를 실행할 때 권장되는 스토리지 옵션
  - Amazon EC2 인스턴스 스토어
    - 여러 인스턴스는 호스트 컴퓨터에 물리적으로 연결된 디스크의 스토리지에 액세스 가능하며 이러한 디스크 스토리지를 인스턴스 스토어라고 함
    - 인스턴스 스토어는 인스턴스에 블록 수준의 임시 스토리지를 제공하며 인스턴스 스토어에 저장된 데이터는 연관 인스턴스의 수명 기간 동안에만 유지되고, 해당 인스턴스를 중지하거나 종료하면 인스턴스 스토어 볼륨의 데이터가 손실됨
  -  Amazon S3
    - 활용하면 저렴하지만 신뢰성이 있는 데이터 스토리지 인프라에 액세스 가능
    - S3은 언제든지 Amazon EC2 내 또는 웹의 어디서나 원하는 데이터의 양을 저장하고 가져올 수 있게 해주어 웹 규모의 컴퓨팅 작업을 쉽게 수행할 수 있도록 설계
  - 스토리지 추가
    - AMI에서 인스턴스를 실행할 때마다 해당 인스턴스에 대한 루트 스토리지 디바이스가 생성
    - 루트 스토리지 디바이스에는 인스턴스를 부팅하기 위해 필요한 모든 정보가 포함
    - 블록 디바이스 매핑을 사용하면 AMI를 생성하거나 인스턴스를 실행할 때 루트 디바이스 볼륨과 스토리지 볼륨을 지정 가능





# 5강. AWS 스토리지 활용하기

> - 스토리지(Storage)
> - 데이터 백업(Data Backup)
> - 스냅샷(Snapshot)
> - S3 Glacier
> - AMI와 Market Place



## 스토리지(Storage)

- AWS의 클라우드 스토리지

  `데이터를 저장하는 안정적이고, 확장 가능하며, 안전한 장소`

  - 클라우드 컴퓨팅의 매우 중요한 구성 요소로서, 애플리케이션에서 사용하는 정보를 보관
  - 모든 빅데이터 분석, 데이터 웨어하우스, 사물인터넷, 데이터베이스, 백업 및 아카이브 애플리케이션에는 일정 형태의 데이터 스토리지 아키텍처가 필요함
  - 클라우드 스토리지는 일반적으로 기존 온프레미스 스토리지 시스템보다 안정성, 확장성 및 보안성이 뛰어남
  - AWS에서는 모든 범위의 클라우드 스토리지 서비스를 제공하여 애플리케이션과 아카이브 규정 준수 요구 사항을 모두 지원함
  - 객체, 파일 및 블록 스토리지 서비스와 클라우드 데이터 마이크레이션 옵션을 선택하여 클라우드 IT 환경의 기초 설계 시작 가능

- AWS의 클라우드 스토리지 제품

| 요구 사항                                                    | 추천 제품                                 |
| ------------------------------------------------------------ | ----------------------------------------- |
| Amazon EC2, 관계형 및 NoSQL 데이터베이스, 데이터 웨어하우징, 엔터프라이즈 애플리케이션, 빅데이터 처리 또는 백업 및 복구를 위한 영구 로컬 스토리지 | Amazon Elastic Block Store (Amazon EBS)   |
| Linux 기반의 워크로드를 AWS 클라우드 서비스와 온프레미스 리소스에서 사용할 수 있도록 지원하는 간단하고 확장 가능하며 탄력적인 파일 시스템입니다. 이 제품은 애플리케이션을 중단하지 않고 온디맨드 방식으로 페타바이트 규모까지 확장하도록 구축되어 파일을 추가하고 제거할 때 자동으로 확장되고 축소되므로, 애플리케이션은 필요할 때 필요한 만큼 스토리지를 사용할 수 있습니다. | Amazon Elastic File System (Amazon EFS)   |
| 고성능 컴퓨팅, 기계 학습 및 미디어 데이터 처리 워크플로우와 같이 컴퓨팅 집약적 워크로드에 최적화 된 완전관리형 파일 시스템으로, Amazon S3에 완벽하게 통합되어 있습니다. | Amazon FSx for Lustre                     |
| Windows Server를 기반으로 구축된 완전관리형 네이티브 Microsoft Windows 파일 시스템으로, 이 제품을 사용하면 SMB 프로토콜 및 Windows NTFS, AD(Active Directory) 통합, DFS(분산 파일 시스템)에 대한 전체 지원을 비롯하여, 파일 스토리지가 필요한 Windows 기반 애플리케이션을 AWS로 쉽게 이전할 수 있습니다. | Amazon FSx for Windows File Server        |
| 사용자 생성 콘텐츠, 활성 아카이브, 서버리스 컴퓨팅, 빅데이터 스토리지 또는 백업 및 복구를 위해 인터넷 위치에서 데이터에 액세스할 수 있도록 지원하는 확장 가능하고 안정적인 플랫폼입니다. | Amazon Simple Storage Service (Amazon S3) |
| 아카이브 및 규제 준수를 위해 테이프 대신 사용할 수 있는 저렴한 장기 스토리지입니다. | Amazon Glacier                            |
| 버스팅, 계층화 또는 마이그레이션을 위해 Amazon 클라우드 스토리지로 온프레미스 환경을 보강해주는 하이브리드 스토리지 클라우드입니다. | AWS Storage Gateway                       |
| 유형 및 크기에 상관없이 모든 데이터를 AWS 클라우드로, 혹은 AWS 클라우드에서 이동하는 작업을 간소화 및 가속화할 수 있도록 지원하는 서비스 포트폴리오입니다. | 클라우드 데이터 마이그레이션 서비스       |
| 클라우드뿐 아니라 온프레미스에서도 AWS Storage Gateway를 사용해 AWS 서비스 전체에서 데이터 백업을 손쉽게 중앙화하고 자동화할 수 있는 완전관리형 백업 서비스입니다. | AWS Backup                                |

​	`Amazon EC2 인스턴스의 영구 볼륨에서 블록 데이터를 저장/처리`

- AWS의 클라우드 스토리지 제품

  - Amazon Elastic Block Store(Amazon EBS)는 Amazon EC2에 대해 가용성이 뛰어나고 일관되며 지연 시간이 짧은 블록 스토리지를 제공

    -> 올바른 스토리지 용량, 성능 및 비용으로 애플리케이션을 조정할 수 있음

  - EBS는 단일 EC2 인스턴스에서 영구 스토리지에 액세스해야 하는 워크로드에 적합함

  - 일반적인 사용 사례로는, 관계형 데이터베이스 및 NoSQL 데이터베이스(Microsoft SQL Server 및 MySQL 또는 Cassandra 및 Mongo DB), 빅데이터 분석 엔진(하둡/HDFS 에코시스템 및 Amazon EMR), 스트림 및 로그 처리 애플리케이션